---
import Layout from "../layouts/Layout.astro";
import { pool } from "../lib/db.js";

let especialidades = [];

try {
  const [rows] = await pool.query("SELECT * FROM especialidades ORDER BY nombre ASC");
  especialidades = rows;
} catch (error) {
  console.error("‚ùå Error al conectar con MySQL:", error);
}
---

<Layout title="Especialidades">
  <h1 class="text-3xl font-bold text-center py-6">Especialidades</h1>

  <ul class="max-w-2xl mx-auto space-y-4">
    {especialidades.map(esp => (
      <li class="p-4 bg-white shadow rounded">
        <h2 class="text-xl font-semibold text-blue-600">{esp.nombre}</h2>
        <p class="text-gray-600">{esp.descripcion}</p>
      </li>
    ))}
  </ul>
</Layout>
